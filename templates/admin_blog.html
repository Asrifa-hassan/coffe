<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <title>BLOGS</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="{% static 'images/favicon.png' %}" rel="shortcut icon">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
  <link rel="stylesheet" href="{% static 'admin/css/style.css' %}">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    body { font-family: 'Poppins', sans-serif; }

    .sidenav {
      background: #333;
      color: white;
      height: 100vh;
      padding-top: 19px;
      width: 250px;
      position: fixed;
      top: 0; left: 0;
    }
    .sidenav h2 { color: #fff; font-weight: bold; text-align: center; margin-bottom: 20px; }
    .sidenav ul li { padding: 10px; }
    .sidenav ul li a { color: white; display: block; text-decoration: none; }
    .sidenav ul li a:hover, .sidenav ul .active a {
      background: #007bff; color: #fff; border-radius: 5px;
    }

    .content-area { margin-left: 250px; padding: 20px; }

    .table-wrap { overflow-x: auto; }
    .table thead { background: #000; color: #fff; }
    .table td, .table th { vertical-align: middle !important; }

    .description {
      max-width: 250px;
      white-space: normal;
      word-wrap: break-word;
    }
	.blog-btn {
		width: 160px;   /* fixed width */
		height: 45px;   /* fixed height */
		font-size: 16px;
		font-weight: 500;
		border-radius: 6px; /* rounded corners */
		display: inline-flex;
		align-items: center;
		justify-content: center;
	}
	.blog-btn:hover {
		background-color: #0056b3; /* darker hover */
		border-color: #0056b3;
	}
    /* Mobile-friendly stacked table */
    @media (max-width: 768px) {
      .table thead { display: none; }
      .table, .table tbody, .table tr, .table td { display: block; width: 100%; }
      .table tr { margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px; padding: 10px; }
      .table td {
        text-align: right;
        padding-left: 50%;
        position: relative;
      }
      .table td::before {
        content: attr(data-label);
        position: absolute;
        left: 15px;
        width: 45%;
        white-space: nowrap;
        font-weight: bold;
        text-align: left;
      }
    }
  </style>
</head>
<body>
  	<div class="sidenav hidden-xs">
		<h2>COFFO</h2>
		<ul class="nav nav-pills nav-stacked">
			<li><a href="{% url 'dashboard' %}">Dashboard</a></li>
			<li><a href="{% url 'admin_products' %}"><i class="fas fa-shopping-bag"></i> Products</a></li>
			<li><a href="{% url 'admin_orders' %}"><i class="fas fa-shopping-cart"></i> Orders</a></li>
			<li><a href="{% url 'notification_admin' %}"><i class="fas fa-bell"></i> Notifications</a></li>
			<li class="active"><a href="{% url 'admin_blog' %}"><i class="fas fa-blog"></i> Blogs</a></li>
			<li><a href="{% url 'admin_contact' %}"><i class="fas fa-phone-alt"></i> Contact</a></li>
			<li><a href="{% url 'admin_users' %}"><i class="fas fa-user"></i> Users</a></li>
			<li><a href="{% url 'logout' %}">Logout</a></li>
		</ul>
  	</div>
	<div class="content-area">
		<div class="messages">
			{% for message in messages %}
			<div class="alert alert-{{ message.tags }} alert-dismissible fade in">
			{{ message }}
			<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
			</div>
			{% endfor %}
		</div>

		<h1 class="text-center">OUR BLOGS</h1>
		<div class="text-right" style="margin-bottom:15px;">
			<a href="{% url 'add_blog' %}" class="btn btn-primary">+ Add Blog</a>
		</div>

		{% if blogs %}
		<div class="table-wrap">
			<table class="table table-bordered">
				<thead>
					<tr>
						<th>#</th>
						<th>Image</th>
						<th>Date</th>
						<th>Title</th>
						<th>Description</th>
						<th>View</th>
					</tr>
				</thead>
				<tbody>
					{% for i in blogs %}
					<tr>
						<td data-label="#"> {{ forloop.counter }} </td>
						<td data-label="Image">
						{% if i.image %}
						<img src="{{ i.image.url }}" width="60" class="img-thumbnail">
						{% endif %}
						</td>
						<td data-label="Date"> {{ i.date|date:"M d, Y" }} </td>
						<td data-label="Title"> {{ i.title }} </td>
						<td data-label="Description" class="description"> {{ i.description }} </td>
						<td data-label="Action">
						<a href="{% url 'admin_view_blog' i.id %}" class="btn btn-xs btn-info">View</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		{% else %}
		<p class="text-center text-muted">No blogs found. <a href="{% url 'add_blog' %}">Add one now</a>.</p>
		{% endif %}
	</div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</body>
</html>
